"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/tools.js");if(!Array){e.resolveComponent("uni-easyinput")()}Math;const o={__name:"comment-frame",props:{comment:{type:Object},placeholder:{type:String,default:"评论点什么吧~~~"}},emits:["commentEnv"],setup(o,{emit:n}){const a=o,c=e.Es.database(),r=e.Es.importObject("utilsObject",{customUI:!0}),m=e.ref(""),i=async()=>{let o=await t.getProvince();m.value?c.collection("board_comment").add({comment_content:m.value,province:o,...a.comment}).then((t=>{var c;e.index.showToast({title:"评论成功"}),r.operation("board_article","comment_count",a.comment.article_id,1),c={_id:t.result.id,comment_content:m.value,province:o},n("commentEnv",c),m.value=""})):e.index.showToast({title:"内容不能为空",icon:"none"})};return(t,n)=>({a:e.sr("uipt","bad6898a-0"),b:e.o(i),c:e.o(i),d:e.o((e=>m.value=e)),e:e.p({suffixIcon:"paperplane",placeholder:o.placeholder,modelValue:m.value})})}},n=e._export_sfc(o,[["__scopeId","data-v-bad6898a"]]);wx.createComponent(n);
